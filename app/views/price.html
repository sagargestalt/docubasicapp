
  <div class="modal-dialog modal-lg" style="margin:0px; width:100% !important;" ng-controller="pricingsettingCtrl">
  
  
  <div class="color-line"></div>   
<div class="modal-header"> 
	<h4 class="modal-title">Pricing
		<span class="pull-right">
			<a ng-click="closemodal()"> <i class="pe-7s-close fa-2x"></i></a> 
		</span>
	</h4> 
</div>


<div class="content" effect="zoomIn">
      <div class="row">
		<div class="col-lg-12" >
			<div class="pull-right m-t-lg" id="hbreadcrumb">
			<ol class="hbreadcrumb breadcrumb">
				<li><a ng-href="#/main"><i class="icon-page-14"></i> &nbsp; Dashboard</a></li>
				<li class="active"><span>Pricing</span></li>
			</ol>
			</div>
		</div>
   </div>
   <br>


<div class="setting">
	<div class="row">
		<div class="col-lg-12" >
			<uib-alert ng-repeat="alert in alerts" class="display-alert" type="{{alert.type}}" close="closeAlerts($index)" ng-click="closeAlerts($index)" id="display-error-home">{{alert.msg}}</uib-alert>
			<uib-alert ng-repeat="error in errors" class="display-alert" type="{{alert.type}}" close="closeAlert($index)" ng-click="closeAlert($index)" id="display-error-home">{{error}}</uib-alert>
		</div>
	</div>

    <div class="row">
<div class="col-lg-12" >
<div class="hpanel">
   <div class="panel-body">
   <div class="pull-left">
  <a id="top"></a>
  <button class="btn btn-success "  ng-model="collapsed" ng-click="pricesection()" ng-hide="pricesectionshow" >New Price</button>
  <button class="btn btn-success" ng-model="collapsed1" ng-click="discontsection()" ng-hide="collapsed1" >New Discount</button>
  <button class="btn btn-success" ng-model="collapsed2" ng-click="taxsection()" ng-hide="collapsed2" >New Tax</button>
  </div>
  <br>
    <div class="takadd" ng-show="pricesectionshow"><br><br>
      <form name="priceForm">
        <h3 class="font-light m-b-xs" ng-hide ="updateprice">
                   Add Price Block
                </h3><br>
                <h3 class="font-light m-b-xs" ng-show ="updateprice">
                   Update Price Block
                </h3><br>
          <div class="row">
          
            <div class="col-md-4">
                <div class="form-group required" ng-class="{'has-error': priceForm.Taskcategory.$touched && priceForm.Taskcategory.$error.required  && priceForm.submit}">
                  <label class="control-label">Product/Service name</label><br>
               <input name="Taskcategory" type="text" class="form-control" placeholder="Product/Service name" id="user-pass" ng-model="productname" required>
              </div>
              </div>
              <div class="col-md-2">
                
                <div class="form-group required" ng-class="{'has-error': priceForm.skid.$touched && priceForm.skid.$error.required   && priceForm.submit}">
                  <label class="control-label">SKU</label><br>
               <input name="skid" type="text" class="form-control" placeholder="SKU" id="user-pass" ng-model="skuid" required>
              </div>
            </div>
              
              <div class="col-md-2">
                <div class="form-group required" ng-class="{'has-error': priceForm.quntaty.$touched && priceForm.quntaty.$error.required  && priceForm.submit}">
                   <label class="control-label">Quantity</label><br>
               <input name="quntaty" type="text" class="form-control" placeholder="QTY" id="user-pass" ng-model="quantity" ng-blur="mulall(quantity,unitcost,unitprice)" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" required>
               <span class="help-block"  ng-show="priceForm.quntaty.$touched && priceForm.quntaty.$invalid">Invalid</span>
              </div>
            </div>
              <div class="col-md-2">
                  <div class="form-group required" ng-class="{'has-error': priceForm.ucost.$touched && priceForm.ucost.$error.required && priceForm.submit}">
                     <label class="control-label">Unit Cost</label><br>
               <input name="ucost" type="text" class="form-control" placeholder="Unit Cost" id="user-pass" ng-model="unitcost" required ng-blur="mul(quantity,unitcost)" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/">
                 <span class="help-block"  ng-show="priceForm.ucost.$touched && priceForm.ucost.$invalid">Invalid</span>
              </div>
            </div>
              <div class="col-md-2">
                 <div class="form-group required" ng-class="{'has-error': priceForm.uprice.$touched && priceForm.uprice.$error.required && priceForm.submit}">
                  <label class="control-label">Unit Price</label><br>
               <input name="uprice" type="text" class="form-control" placeholder="Unit Price" id="user-pass"  ng-model="unitprice" required ng-blur="mul1(quantity,unitprice)" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/">
                <span class="help-block"  ng-show="priceForm.uprice.$touched && priceForm.uprice.$invalid">Invalid</span>
              </div>
            </div>
          </div>


            <div class="row">
              <div class="col-md-3"><div class="form-group required" > <label class="control-label">Currency</label><br> 
              <div class="dropdown">
                    <select class="form-control dropdown-toggle" type="button" data-toggle="dropdown" ng-options="money.currencyid as money.currency_code for money in currancys" ng-model="moneys">
          <option value="">--Select--</option></select></select>
                   </div>
                  </div>
              </div>
            

              
              
              <div class="col-md-3"><div class="form-group required" ><label class="control-label">Source</label><br>
             <div class="dropdown">
                     <select class="form-control dropdown-toggle" type="button" data-toggle="dropdown"  ng-model="source" ng-options="s.id as s.type for s in sources">
           <option value="">--Select--</option></select>
          </div>
        </div>
              </div>
              <div class="col-md-2" ng-show="source == '2'"><div class="form-group required" ><label class="control-label">Vendors</label><br> 
                <div class="dropdown">
                     <select class="form-control dropdown-toggle"  type="button" data-toggle="dropdown"  ng-model="vendors"  ng-options="vd.vendor_id as vd.displayname for vd in vendorsdata ">
           <option value="">--Select--</option></select>
                    </div>
                  </div>
              </div>
                <div class="col-md-2">
                
               <!--<input name="uprice" type="text" class="form-control" placeholder="Total Price" id="user-pass" ng-model="totalprice" required>-->
                <p>Total Cost</p><br>
                <p>{{totalcost| number: 2}}</p>
             
            </div>
              <div class="col-md-2">
                
               <!--<input name="uprice" type="text" class="form-control" placeholder="Total Cost" id="user-pass" ng-model="totalcost" required>-->
              
                 <p>Total Price</p><br>
               <p>{{totalprice| number: 2}}</p>
             
            </div>
            </div>

            
            <div class="row"><br>
              <div class="col-md-10">
                <div class="form-group required" >
                 <label class="control-label">Price detailed summary</label><br>
              <textarea class="form-control" rows="5" id="comment" placeholder="Price detailed summary" ng-model="discriptions" ></textarea>
            </div>
          </div><br>
        </div>
        </form>
          <div class="row">
              <div class="col-md-12">
                <button class="btn btn-success" ng-click="submitdata()" ng-disabled="priceForm.$invalid" ng-hide="updateprice">Save</button>
                 <button class="btn btn-success" ng-click="updatepriceblock()" ng-disabled="priceForm.$invalid" ng-show ="updateprice">Update</button>
                  <button class="btn btn-primary" ng-click="closeprice()" >Cancel</button>
            </div>
          </div>
            </div>
          
        
      <div class="discount" ng-show="collapsed1"><br><br>
         <form name="discountForm">
           <h3 class="font-light m-b-xs" ng-hide="dupdate">
                   Add Discount Block
                </h3><br>
                <h3 class="font-light m-b-xs" ng-show="dupdate">
                   Update Discount Block
                </h3><br>
        <div class="row">
            <div class="col-md-3">
               <div class="form-group required" ng-class="{'has-error': discountForm.distname.$touched && discountForm.distname.$error.required && discountForm.submit}">
                  <label class="control-label">Discount Name</label><br>
               <input name="distname" type="text" class="form-control" placeholder="Discount Name" id="user-pass" ng-model="discountname" required>
             </div>
           </div>
             <div class="col-md-3"><div class="form-group required" ><label class="control-label">Discount Type </label>
             <div class="dropdown">
                     <select class="form-control dropdown-toggle" type="button" data-toggle="dropdown"  ng-model="distype" ng-options="types.id as types.type for types in dbased" >
           <option value="">--Select--</option></select>
          </div>
        </div>
             </div>
       <div class="col-md-4">
               <div class="form-group required" ng-class="{'has-error': discountForm.val.$touched && discountForm.val.$error.required && discountForm.submit}">
                 <label class="control-label">Amount</label><br>
                <input name="val" type="text" class="form-control" placeholder="Amount/Percentage" id="user-pass" ng-model="value" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" required >
                 <span class="help-block"  ng-show="discountForm.val.$touched && discountForm.val.$invalid">Invalid</span>
              </div>
             </div>
           </div>
            <div class="row">
             <div class="col-md-6">
               <button class="btn btn-success" ng-click="adddiscount()" ng-disabled="discountForm.$invalid" ng-hide="dupdate" >Save</button>
                 <button class="btn btn-success" ng-click="updatediscount()"  ng-disabled="discountForm.$invalid" ng-show="dupdate" >Update</button>
                 <button class="btn btn-primary" ng-click="closediscount()" >Cancel</button>
             </div>
       </div>
       </form>

      </div>
     
   <div class="discount" ng-show="collapsed2"><br><br>
           <form name="taxForm">
            <h3 class="font-light m-b-xs" ng-hide="tupdate">
                   Add Tax Block
                </h3><br>
                <h3 class="font-light m-b-xs" ng-show="tupdate">
                   Update Tax Block
                </h3><br>
        <div class="row">
            <div class="col-md-4">
               <div class="form-group required" ng-class="{'has-error': taxForm.Txname.$touched && taxForm.Txname.$error.required && taxForm.submit}">
                 <label class="control-label">Tax Name</label><br>
               <input name="Txname" type="text" class="form-control" placeholder="Tax Name" id="user-pass" ng-model="taxname" required>
             </div>
             </div>
       <div class="col-md-4">
               <div class="form-group required" ng-class="{'has-error': taxForm.txPercentage.$touched && taxForm.txPercentage.$error.required && taxForm.submit}">
                <label class="control-label">Percentage</label><br>
               <input name="txPercentage" type="text" class="form-control" placeholder="Percentage" id="user-pass" ng-model="taxPercentage" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/"required>
               <span class="help-block"  ng-show="taxForm.txPercentage.$touched && taxForm.txPercentage.$invalid">Invalid</span>
             </div>
             </div>
           </div>
        <div class="row">
             <div class="col-md-12">
               <button class="btn btn-success" ng-click="addtax()"  ng-disabled="taxForm.$invalid" ng-hide="tupdate">Save</button>
                <button class="btn btn-success" ng-click="updatetax()" ng-disabled="taxForm.$invalid" ng-show="tupdate">Update</button>
                 <button class="btn btn-primary" ng-click="closetax()" >Cancel</button>

             </div>
           </div>
          
         </form>
        

          </div>
        </div>
    
    
<br><br>  
    
        <div class="panel-body pn" >
           <h2>Price Block</h2><br>
     <table datatable="ng" class="table table-striped table-bordered table-hover" >
      <thead>
        <tr>
          <th>Name</th>
          <th>Quantity</th>
          <th>Total Cost</th>
          <th>Created by</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="info in pricealldata" >
          <td >{{info.productname}}</td>
          <td>{{info.quantity}}</td>
           <td>{{info.totalprice}}</td>
          <td > {{info.email}}<br>
            {{info.created_time}}</td>
          <td><a href="" title="Delete Category" ng-click="getdata(info)" class="btn"><i class="glyphicon glyphicon-pencil"></i></a>
            <a href="" title="Delete" ng-click="deleteprice(info)" class="btn"><i class="glyphicon glyphicon-trash"></i></a></td>
        </tr>
      </tbody>
    </table>
  </div><br>
<hr>
<div class="panel-body pn" >
  <h2>Discount Block</h2><br>
   <table datatable="ng" class="table table-striped table-bordered table-hover" >
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Amount/Percentage</th>
          <th>Created by</th>
          
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="detail in discountblock" >
          <td >{{detail.discountname}}</td>
          <td ng-if="detail.type ==2">Amount</td>
          <td ng-if="detail.type ==1">Percentage</td>
           <td>{{detail.value}}</td>
            <td>{{detail.email}}<br>
          {{detail.created_time}}</td>
         
          <td><a href="" title="Delete Category" ng-click="discountdata(detail)" class="btn"><i class="glyphicon glyphicon-pencil"></i></a>
            <a href="" title="Delete" ng-click="deletediscount(detail)" class="btn"><i class="glyphicon glyphicon-trash"></i></a></td>
        </tr>
      </tbody>
    </table>
    
  </div><br>
  <hr>
  <div class="panel-body pn" >
  <h2>Tax Block</h2><br>

   <table datatable="ng" class="table table-striped table-bordered table-hover" >
      <thead>
        <tr>
          <th>Name</th>
          <th>Percentage</th>
           <th>Created by</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="detail in taxblock" >
          <td >{{detail.taxname}}</td>
          <td>{{detail.percentage}}</td>
          <td>{{detail.email}}<br>
          {{detail.created_time}}</td>
          <td><a href="" title="Delete Category" ng-click="updatetaxdata(detail)" class="btn"><i class="glyphicon glyphicon-pencil"></i></a>
            <a href="" title="Delete" ng-click="deletetax(detail)" class="btn"><i class="glyphicon glyphicon-trash"></i></a></td>
        </tr>
      </tbody>
    </table>
     
  </div>

  
    </div>
  </div>
  </div>
    </div>
  </div>