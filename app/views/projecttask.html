<div class="modal-dialog modal-lg animated fadeInRight in">
<div class="normalheader transition animated fadeIn">
        <div class="hpanel">
            <div class="panel-body">
               

                <div class="pull-right m-t-lg" id="hbreadcrumb">
                    <ol class="hbreadcrumb breadcrumb">
                        <li><a href="index.html">Dashboard</a></li>
                       
                        <li class="active">
                            <span>Project Task</span>
                        </li>
                    </ol>
                </div>
                <h2 class="font-light m-b-xs">
                    Project Task
                </h2>
                <small></small>
            </div>
        </div>
    </div>

<div class="setting">
  
   <uib-alert ng-repeat="alert in alerts" class="display-alert" type="{{alert.type}}" close="closeAlerts($index)" ng-click="closeAlerts($index)" id="display-error-home">{{alert.msg}}</uib-alert>
   <uib-alert ng-repeat="error in errors" class="display-alert" type="{{alert.type}}" close="closeAlert($index)" ng-click="closeAlert($index)" id="display-error-home">{{error}}</uib-alert>
 <div class="content animate-panel" effect="zoomIn">
	 
	 
	 

<div class="row">
<div class="col-lg-12" >
<div class="hpanel">
	 <div class="panel-body">

  <button class="btn btn-primary pull-right"  ng-model="collapsed" ng-click="projecttasksection()" >Add New</button>
<div class="takadd" ng-show="collapsed">
 		<form name = "projecttaskform">
      <h3 class="font-light m-b-xs" ng-hide = "update">
                    Add Project Task
                </h3>
                <h3 class="font-light m-b-xs" ng-show = "update">
                    Update Project Task
                </h3>
						<div class="row">
							<br>
							<div class="col-md-6"> <label class="control-label">Task Category </label><br>
								<div class="dropdown">
									<select class="form-control dropdown-toggle" type="button" data-toggle="dropdown"  ng-model="category" ng-options="taskp.id as taskp.categoryname for taskp in tasks  ">
										   <p>Select</p>
									</select>
								</div>
							</div>
 							<div class="col-md-6">
                <div class="form-group required" ng-class="{'has-error':projecttaskform.taskdsp.$touched && projecttaskform.taskdsp.$error.required}">
                <label class="control-label">Task Description</label><br>
								<input name="taskdsp" type="text" class="form-control" ng-maxlength="50" placeholder="One Line Task Description " id="user-pass" ng-model="discription" required>
                 <p ng-show="etuser.username.$error.maxlength" class="denger">Description is too long.</p>
 							</div>
            </div>
						</div>

                       
 						<div class="row">
 							<div class="col-md-3">
                <label class="control-label">Man Days </label><br>
 						  <input name="Task category" type="number" class="form-control" placeholder="Man Days" id="user-pass" ng-model="mandays" required>
 							</div>
 						

 							<div class="col-md-3"><label class="control-label">Resource Type</label><br>
 							  <div class="dropdown"> 
    								 <select class="form-control dropdown-toggle" type="button" data-toggle="dropdown"  ng-model="source" ng-options="money.id as money.type for money in sources" >
           <p>Select</p></select>
    								
  								</div>
 							</div>
 							
 							<div class="col-md-3" ng-show="source == '2'"> <label class="control-label">Vendors</label><br>
 						 <div class="dropdown">
                     <select class="form-control dropdown-toggle" type="button" data-toggle="dropdown"  ng-model="vendors"  ng-options="money.vendor_id  as money.displayname for money in vendorsdata">
            <span class="caret"></span></select>
 							</div>
            </div>

						
						
							<div class="col-md-3">
                 <div class="form-group" ng-class="{'has-error':projecttaskform.dcost.$touched && projecttaskform.dcost.$invalid}">
                <label class="control-label">Daily Cost</label><br>
						 <input  type="number" name="dcost" class="form-control" placeholder="Daily Cost" id="user-pass" ng-model="dailycost" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/"  required>
             <span class="help-block"  ng-show="projecttaskform.dcost.$touched && projecttaskform.dcost.$invalid">Invalid</span>
           </div>
						</div>
					
          
              <div class="col-md-3">
                <div class="form-group" ng-class="{'has-error':projecttaskform.tcost.$touched && projecttaskform.tcost.$invalid}">
                <label class="control-label">Total cost</label><br>
                <input name="tcost" type="number" class="form-control" placeholder="Total cost" id="user-pass" ng-model="totalcost" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" required>
                  <p class="help-block" ng-show="projecttaskform.tcost.$touched && projecttaskform.tcost.$invalid">Invalid</p>
                </div>
            </div>
          </div>
            
            <div class="row">
              <div class="col-md-6">
                <div class="form-group" ng-class="{'has-error':projecttaskform.drate.$touched && projecttaskform.drate.$invalid}">
                <label class="control-label">Daily Rate</label><br>
                 <input name="drate" type="number" class="form-control" placeholder="Daily Rate" id="user-pass" ng-model="dailyrate" ng-pattern ="/^[0-9]+(\.[0-9]{1,2})?$/"  required>
                  <p ng-show="projecttaskform.drate.$touched && projecttaskform.drate.$invalid">Invalid</p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group" ng-class="{'has-error':projecttaskform.trate.$touched && projecttaskform.trate.$invalid}">
                <label class="control-label"> Total Price</label><br>
                <input name="trate" type="number" class="form-control" placeholder=" Total Price" id="user-pass" ng-model="totalrate" ng-pattern = "/^[0-9]+(\.[0-9]{1,2})?$/" required>
                 <p ng-show="projecttaskform.trate.$touched && projecttaskform.trate.$invalid">Invalid</p>
               </div>
              </div>
              </div>

              <div class="row">
                <div class="col-md-12">
                   <label class="control-label">Price Detailed Summary</label><br>
                  <textarea class="form-control" rows="5" maxlenght="255" id="comment" placeholder="Price detailed summary" ng-model="taskdetail" ></textarea>
            </div>
           
                  </div><br>
				  
				  <div class="row">
				  <div class="col-md-8">
				  <button class="btn btn-primary" ng-click="submitprojecttask()" ng-hide="update"  ng-disabled="projecttaskform.$invalid">Save</button>
               <button class="btn btn-primary" ng-click="updateprojecttaskdata()" ng-show = "update">Update</button>
               <button class="btn btn-primary" ng-click="closeprojecttask()">Cancel</button>
			   </div>
         </form>
	</div>
                

  </div>

  </div>
  <br><br>
  <div class="panel-body pn" >

    <table datatable="ng" class="table table-striped table-bordered table-hover" >
      <thead>
        <tr>
          <th>Name</th>
          <th>Man days</th>
          <th>Total Cost</th>
          <th>Created by</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="detail in projecttask" >
         <td >{{detail.taskshortdesc}}</td>
          <td>{{detail.mandays}}</td>
          <td>{{detail.totalcost}}</td>
          <td>{{detail.email}}<br>
          {{detail.created_time}}</td>
          <td><a href="" title="Update" ng-click="updateprojecttask(detail)" class="btn"><i class="glyphicon glyphicon-pencil"></i></a>
            <a href="" title="Delete" ng-click="deleteprojecttask(detail)" class="btn"><i class="glyphicon glyphicon-trash"></i></a></td>
        </tr>
      </tbody>
    </table>
    
  </div>

</div>
</div>
</div>

          
          </div>